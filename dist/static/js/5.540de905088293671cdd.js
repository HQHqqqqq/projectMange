webpackJsonp([5],{ZCiL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Dd8w"),l=a.n(r),o=a("NYxO"),n=a("P9l9"),s={data:function(){return{milestoneArray:[],milestoneUsed:[],projectName:"",projectNumber:this.$route.query.projectNum,gtItemStatus:!1,versionNumber:"",ArrayTempName:"",UsedTempName:""}},created:function(){this.getTableData(),"-1814768306395265967"==this.userinfo.account_id?this.gtItemStatus=!0:this.gtItemStatus=!1},computed:l()({},Object(o.c)(["userinfo"])),methods:{getTableData:function(){var e=this,t={projectNumber:this.projectNumber};Object(n._28)("/sgpm/rest/api/server/milestone/change",t).then(function(t){200==t.data.code?(t.data.data,e.milestoneArray=t.data.data.milestoneArray,e.milestoneUsed=t.data.data.milestoneUsed,e.projectName=t.data.data.projectName,e.versionNumber=t.data.data.versionNumber,e.ArrayTempName=t.data.data.milestoneArray[0].milestoneTemplateName,e.UsedTempName=t.data.data.milestoneUsed[0].milestoneTemplateName):e.$message.error("获取数据失败")}).catch(function(e){})},formatprogressPercentage:function(e){return e.progressPercentage+"%"},formataccumulatedProgress:function(e){return e.accumulatedProgress+"%"},formatisCut:function(e,t){switch(e.isCut){case 1:return"是";case 0:return"否";default:return"未知"}},formatauditDeliverable:function(e){switch(e.auditDeliverable){case"0":return"否";case"1":return"是";default:return"否"}},formatcontractDeliverable:function(e){switch(e.contractDeliverable){case"0":return"否";case"1":return"是";default:return"否"}},formatStatus:function(e){switch(e.status){case 0:return"未完成";case 1:return"进行中";case 2:return"已完成";default:return"未知"}},formatstatus:function(e){switch(e.status){case 1:return"未上传";case 0:return"已上传";case 2:return"待审核";case 3:return"审核通过";case 4:return"驳回";default:return"未知"}}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/audititem"}}},[e._v("审批列表")]),e._v(" "),a("el-breadcrumb-item",[e._v("里程碑变更详情页")])],1),e._v(" "),a("div",{staticStyle:{height:"10px",background:"#ECF0F5"}}),e._v(" "),a("div",{staticClass:"titleStyle",staticStyle:{"margin-top":"10px","margin-bottom":"20px","margin-left":"5px"}},[a("span",{staticClass:"Title"},[e._v("项目名称：")]),e._v(" "),a("span",{staticClass:"Value"},[e._v(e._s(e.projectName))]),e._v(" "),a("span",{staticClass:"Title"},[e._v("项目编号：")]),e._v(" "),a("span",{staticClass:"Value"},[e._v(e._s(e.projectNumber))]),e._v(" "),a("span",{staticClass:"Title"},[e._v("版本号：")]),e._v(" "),a("span",{staticClass:"Value"},[e._v(e._s(e.versionNumber))])]),e._v(" "),a("div",{staticStyle:{clear:"left"}}),e._v(" "),a("h3",{staticStyle:{"margin-bottom":"10px","margin-left":"5px"}},[e._v("新里程碑模板："+e._s(e.ArrayTempName))]),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{border:"","header-cell-style":{fontSize:"14px",color:"#303133",height:"51px",padding:0,backgroundColor:"#ccd1d5"},"row-style":{height:"50px"},"cell-style":{padding:0},data:e.milestoneArray}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{border:"1px solid #ecf0f5","margin-left":"-50px","margin-top":"-20px",background:"#ecf0f5"}},[a("el-table",{staticStyle:{width:"100%","margin-left":"-2px","margin-top":"20px","margin-bottom":"20px"},attrs:{data:t.row.deliverable,border:"","header-cell-style":{fontSize:"14px",color:"#303133",height:"51px",padding:0,backgroundColor:"#ccd1d5"},"row-style":{height:"50px"},"cell-style":{padding:0}}},[a("el-table-column",{attrs:{label:"交付物名称","show-overflow-tooltip":!0,prop:"deliverableName"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[""==r.filePath||null==r.filePath?a("span",[e._v(e._s(r.deliverableName))]):a("span",[a("u",[a("a",{staticStyle:{color:"dodgerblue"},attrs:{href:r.file_url,target:"_blank"}},[e._v(e._s(r.deliverableName))])])])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"交付物描述",prop:"description"}}),e._v(" "),e.gtItemStatus?a("el-table-column",{attrs:{label:"是否合同交付物",width:"80",align:"center",formatter:e.formatcontractDeliverable,prop:"contractDeliverable"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"是否审计文档",align:"center",formatter:e.formatauditDeliverable,prop:"auditDeliverable"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否可裁剪",align:"center",formatter:e.formatisCut,prop:"isCut"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"80",prop:"stageName",label:"阶段名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"milestoneName",label:"里程碑名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",formatter:e.formatprogressPercentage,prop:"progressPercentage",label:"对应百分比"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"isCut",width:"100",formatter:e.formatisCut,label:"是否可裁剪"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"130",prop:"estimatedStartDate",label:"预计开始时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"130",prop:"estimatedFinishDate",label:"预计完成时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"80",prop:"estimatedWorkingHours",label:"预计工时(人月)"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"description",label:"里程碑描述"}})],1),e._v(" "),a("h3",{staticStyle:{"margin-bottom":"10px","margin-left":"5px"}},[e._v("原里程碑模板："+e._s(e.UsedTempName))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","header-cell-style":{fontSize:"14px",color:"#303133",height:"51px",padding:0,backgroundColor:"#ccd1d5"},"row-style":{height:"50px"},"cell-style":{padding:0},data:e.milestoneUsed}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{border:"1px solid #ecf0f5","margin-left":"-50px","margin-top":"-20px",background:"#ecf0f5"}},[a("el-table",{staticStyle:{width:"100%","margin-left":"-2px","margin-top":"20px","margin-bottom":"20px"},attrs:{data:t.row.deliverable,border:"","header-cell-style":{fontSize:"14px",color:"#303133",height:"51px",padding:0,backgroundColor:"#ccd1d5"},"row-style":{height:"50px"},"cell-style":{padding:0}}},[a("el-table-column",{attrs:{label:"交付物名称","show-overflow-tooltip":!0,align:"center",prop:"deliverableName"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[1==r.isDownload?a("span",[a("u",[a("a",{staticStyle:{color:"dodgerblue"},attrs:{href:r.template_file_url,target:"_blank"}},[e._v(e._s(r.deliverableName))])])]):a("span",[e._v(e._s(r.deliverableName))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",formatter:e.formatstatus,prop:"status"}}),e._v(" "),e.gtItemStatus?a("el-table-column",{attrs:{label:"是否合同交付物",width:"80",align:"center",formatter:e.formatcontractDeliverable,prop:"contractDeliverable"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"是否审计文档",align:"center",formatter:e.formatauditDeliverable,prop:"auditDeliverable"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"文件名",align:"center",width:"150",prop:"file_name"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[1!=r.status?a("span",[a("u",[a("a",{staticStyle:{color:"dodgerblue"},attrs:{href:r.file_url,target:"_blank"}},[e._v(e._s(r.file_name))])])]):a("span",[e._v(e._s(r.file_name))])]}}],null,!0)}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"交付物描述",prop:"description"}})],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"80",prop:"stageName",label:"阶段名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",prop:"milestoneName",label:"里程碑名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",formatter:e.formatprogressPercentage,width:"80",prop:"progressPercentage",label:"累计进度"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",formatter:e.formataccumulatedProgress,width:"100",prop:"accumulatedProgress",label:"完成百分比"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",prop:"status",formatter:e.formatStatus,label:"当前状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"finishDate",label:"实际完成时间"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"currentProblems",label:"当前进展/问题"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"estimatedStartDate",label:"预计开始时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"estimatedFinishDate",label:"预计完成时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"80",prop:"estimatedWorkingHours",label:"预计工时(人月)"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"description",label:"里程碑描述"}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(s,i,!1,function(e){a("hP2a")},"data-v-032c77ed",null);t.default=c.exports},hP2a:function(e,t){}});
//# sourceMappingURL=5.540de905088293671cdd.js.map